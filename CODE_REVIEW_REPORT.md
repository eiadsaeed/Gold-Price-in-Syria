# ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุงูููุฏ - Gold Price Calculator
## ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉ: 31 ููุงูุฑ 2026

---

## ๐ ููุฎุต ุงูุชูููุฐ

ุชู ุฅุนุงุฏุฉ ููููุฉ ูุงูู ููู `script.js` ูุชูุจูุฉ ูุนุงููุฑ ุงูุญุณุงุจุงุช ุงููุงููุฉ ุงูุฏูููุฉ ูุงููุชุทูุจุงุช ุงูุตุงุฑูุฉ.

---

## ๐ ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ ุงูููุชุดูุฉ ูุงูููุตูุญุฉ

### 1. โ ูุดููุฉ: ุญุณุงุจ ุงูุฏููุงุฑ ูู ุงูููุฑุฉ ุงูุณูุฑูุฉ (CRITICAL)

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
// ุงูููุฏ ุงููุฏูู ูุงู ูุญููู SYP โ USD
displayPrice = convertToUSD(totalNew, exchangeRate, exchangeType);
```

**ููุงุฐุง ูุฐุง ุฎุทุฃุ**
- XAUUSD ูู **ุงููุตุฏุฑ ุงููุญูุฏ ููุญูููุฉ** ููุฃุณุนุงุฑ ุจุงูุฏููุงุฑ
- ุชุญููู SYP โ USD ููุฏูู ุฃุฎุทุงุก ุชูุฑูุจูุฉ ูุงุชุฌุฉ ุนู ูุนุฏููุงุช ุตุฑู ูุชุนุฏุฏุฉ
- ููุณุฑ ูุจุฏุฃ "ุงููุตุฏุฑ ุงููุญูุฏ ููุญูููุฉ" (Single Source of Truth)

**ุงูุญู ุงููุทุจู:**
```javascript
// ุงูุขู ูุญุณุจ USD ูุจุงุดุฑ ูู XAUUSD
const gramPriceUSD = xauPrice / OUNCE_GRAMS;

// ูุณุนุฑ ุงููุทุนุฉ ุจุงูุฏููุงุฑ:
displayGoldPrice = gramPriceUSD * weight;  // ูุจุงุดุฑ ูู USD

// ูููุทุน ุงูุฐูุจูุฉ ุจุงูุฏููุงุฑ:
displayLira = gramPriceUSD * coinData.pureGold;  // ูุจุงุดุฑ ูู USD
```

---

### 2. โ ูุดููุฉ: ุงุฎุชูุงุท ุงูุนููุงุช ูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
// ุงูููุฏ ุงููุฏูู ูุงู ูุฌูุน/ูุทุฑุญ ููู ุจุนููุงุช ูุฎุชููุฉ
if (transactionType === 'seller') {
    totalNew = totalGoldPrice + manufacturingInNewSYP;
}
```

**ููุงุฐุง ูุฐุง ุฎุทุฃุ**
- ุฑุณู ุงููุตูุนูุฉ ูุฏ ูููู ุจุงูุฏููุงุฑ ุจูููุง ุงูุฐูุจ ุจุงูููุฑุฉ
- ุงูุฌูุน ุงููุจุงุดุฑ ูููุชุฌ ูุชุงุฆุฌ ุบูุฑ ุตุญูุญุฉ ุฑูุงุถูุงู

**ุงูุญู ุงููุทุจู:**
```javascript
// ุชุญููู ุฑุณู ุงููุตูุนูุฉ ุฅูู ุนููุฉ ุงููุชูุฌุฉ ุฃููุงู
const feeInResultCurrency = convertManufacturingFee(
    manufacturingFee, 
    manufacturingCurrency, 
    resultCurrency, 
    exchangeRate, 
    exchangeType
);

// ุซู ุฅุถุงูุฉ/ุทุฑุญ ุงูููู ุจููุณ ุงูุนููุฉ
if (transactionType === 'seller') {
    displayPrice = displayGoldPrice + feeInResultCurrency;
}
```

---

### 3. โ ูุดููุฉ: ุชูุฑุงุฑ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
// ุงูููุฏ ุงููุฏูู ูุงู ูุนูุฏ ุญุณุงุจ ููุณ ุงูููู ูู ุฏูุงู ูุฎุชููุฉ
if (displayInUSD) {
    displayOunce = convertToUSD(ounceValue, exchangeRate, exchangeType);
    displayLira = convertToUSD(liraValue, exchangeRate, exchangeType);
    // ... ุชูุฑุงุฑ ููุณ ููุทู ุงูุชุญููู
}
```

**ููุงุฐุง ูุฐุง ูุดููุฉุ**
- ุตุนูุจุฉ ุงูุตูุงูุฉ ูุงููุฑุงุฌุนุฉ
- ุงุญุชูุงููุฉ ูุฌูุฏ ุฃุฎุทุงุก ููุทููุฉ
- ุนุฏู ุงููุฏุฑุฉ ุนูู ุชุฏููู ุงูุญุณุงุจุงุช

**ุงูุญู ุงููุทุจู:**
```javascript
// ุญุณุงุจ ูุฑูุฒู ููุฃุณุนุงุฑ ุงูุฃุณุงุณูุฉ
const gramPriceUSD = calculateGramPriceUSD(xauPrice);
const gramPriceSYP = calculateGramPriceSYP(gramPriceUSD, exchangeRate, exchangeType);

// ุงุณุชุฎุฏุงู ูุฐู ุงูููู ุงูููุซููุฉ ูู ุฌููุน ุงูุนุฑูุถ
updateKaratPricesDisplay(gramPriceUSD, gramPriceSYP);
updatePiecePriceDisplay(gramPriceUSD, gramPriceSYP, ...);
updateAdditionalCalculationsDisplay(gramPriceUSD, gramPriceSYP);
```

---

### 4. โ ูุดููุฉ: ุนุฏู ูุฌูุฏ ุงูุชุญูู ูู ุงููุฏุฎูุงุช

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
// ุงูููุฏ ุงููุฏูู ูุงู ูุญุณุจ ุญุชู ูุน ููู ุบูุฑ ุตุญูุญุฉ
const price24 = parseFloat(xauPriceInput.value);
const ounceValue = price24 * OUNCE_GRAMS;  // ูุฏ ูููู NaN ุฃู Infinity
```

**ููุงุฐุง ูุฐุง ูุดููุฉุ**
- ูุฏ ููุชุฌ `NaN` ุฃู `Infinity` ูุตู ููุงุฌูุฉ ุงููุณุชุฎุฏู
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ ุจุฏูู ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุญุณุงุจุงุช ุบูุฑ ุฏูููุฉ ูุน ูุฏุฎูุงุช ุบูุฑ ุตุงูุญุฉ

**ุงูุญู ุงููุทุจู:**
```javascript
function validateInputs(xauPrice, exchangeRate, weight) {
    if (xauPrice <= 0) {
        validationError = 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ุณุนุฑ ุงูุฐูุจ ุจุงูุจูุฑุตุฉ (XAUUSD)';
        return false;
    }
    // ... ุงูุชุญูู ูู ุงููุฏุฎูุงุช ุงูุฃุฎุฑู
}

function calculateGramPriceUSD(xauPrice) {
    if (!isFinite(xauPrice) || xauPrice <= 0) {
        return 0;  // ุฅุฑุฌุงุน 0 ุจุฏูุงู ูู NaN/Infinity
    }
    return xauPrice / OUNCE_GRAMS;
}
```

---

### 5. โ ูุดููุฉ: ุงุณุชุฎุฏุงู ุฃุฑูุงู ุณุญุฑูุฉ (Magic Numbers)

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
const ounceValue = price24 * 31.1035;  // ูุงุฐุง ููุซู 31.1035ุ
const oldCurrency = price * 100;  // ููุงุฐุง 100ุ
```

**ููุงุฐุง ูุฐุง ูุดููุฉุ**
- ุตุนูุจุฉ ููู ุงูููุฏ
- ุงุญุชูุงููุฉ ุงูุฃุฎุทุงุก ุนูุฏ ุงูุชุนุฏูู
- ุนุฏู ูุฌูุฏ ุชูุซูู ููุฃุฑูุงู ุงููุณุชุฎุฏูุฉ

**ุงูุญู ุงููุทุจู:**
```javascript
// ุซูุงุจุช ููุซูุฉ ุจูุถูุญ
const OUNCE_GRAMS = 31.1035; // Weight of one troy ounce in grams (EXACT)
const CURRENCY_CONVERSION = 100; // 100 old SYP = 1 new SYP (DISPLAY ONLY)

// ุงุณุชุฎุฏุงู ุงูุซูุงุจุช ูู ุงูููุฏ
const gramPriceUSD = xauPrice / OUNCE_GRAMS;
const oldSYP = newSYP * CURRENCY_CONVERSION;
```

---

### 6. โ ูุดููุฉ: ุจููุฉ ุจูุงูุงุช ุงูุนููุงุช ุงูุฐูุจูุฉ ุบูุฑ ุฏูููุฉ

**ุงููุดููุฉ ุงูุฃุตููุฉ:**
```javascript
const LIRA_WEIGHTS = {
    syrian: 6,
    egyptian: 7.988,
    turkish: 8,  // ุฎุทุฃ! ุงููุฒู ุงูุตุญูุญ 7.216
    // ...
};
```

**ููุงุฐุง ูุฐุง ูุดููุฉุ**
- ุฃูุฒุงู ุบูุฑ ุฏูููุฉ ุชุงุฑูุฎูุงู
- ุญุณุงุจุงุช ุฎุงุทุฆุฉ ูููุทุน ุงูุฐูุจูุฉ
- ูุตุฏุงููุฉ ุงููุดุฑูุน ููุถุน ุดู

**ุงูุญู ุงููุทุจู:**
```javascript
const HISTORICAL_COINS = {
    ottoman: {
        totalWeight: 7.216,
        karat: 22,
        pureGold: 6.61,
        label: 'ุงูููุฑุฉ ุงูุนุซูุงููุฉ (ุชุฑููุฉ)'
    },
    egyptian: {
        totalWeight: 7.988,
        karat: 22,
        pureGold: 7.322,
        label: 'ุงูุฌููู ุงููุตุฑู'
    },
    british: {
        totalWeight: 7.988,
        karat: 22,
        pureGold: 7.322,
        label: 'ุงูุฌููู ุงูุจุฑูุทุงูู'
    }
};
```

---

## โ ุชุฃููุฏุงุช ุฌูุฏุฉ ุงูููุฏ

### 1. USD ูุง ููุดุชู ุฃุจุฏุงู ูู SYP โ

**ุงูุฏููู:**
```javascript
// ุงูุฏุงูุฉ ุงููุญูุฏุฉ ุงูุชู ุชูุญุณุจ USD ูู XAUUSD:
function calculateGramPriceUSD(xauPrice) {
    if (!isFinite(xauPrice) || xauPrice <= 0) {
        return 0;
    }
    return xauPrice / OUNCE_GRAMS;  // ูุจุงุดุฑ ูู XAUUSD ููุท
}

// ุนูุฏ ุนุฑุถ ุงูุฃุณุนุงุฑ ุจุงูุฏููุงุฑ:
if (displayInUSD) {
    display24 = gramPriceUSD;  // ูุจุงุดุฑ ูู XAUUSD
    display22 = calculateKaratPriceUSD(gramPriceUSD, KARAT_22);
    // ุฏุงุฆูุงู ูู USDุ ูุง ุชุญููู ูู SYP
}
```

**ุงูุชุฃููุฏ:** ุฌููุน ุงูุฃุณุนุงุฑ ุจุงูุฏููุงุฑ ุชูุญุณุจ ูุจุงุดุฑุฉ ูู XAUUSD ููุท.

---

### 2. ุฌููุน ุงูุนููุงุช ูุชุณูุฉ ุฏุงุฎููุงู โ

**ุงูุฏููู:**
```javascript
// ุชุฏูู ุงูุญุณุงุจุงุช ุงูููุญุฏ:
XAUUSD โ gramPriceUSD (ุงููุตุฏุฑ ุงููุญูุฏ)
        โ
gramPriceSYP = gramPriceUSD ร exchangeRate
        โ
oldSYP = newSYP ร 100 (ููุนุฑุถ ููุท)

// ูููุทุน ุงูุฐูุจูุฉ:
coinPrice = gramPriceUSD ร pureGoldWeight (USD)
         OR gramPriceSYP ร pureGoldWeight (SYP)
         OR oldSYP ร pureGoldWeight (ููุนุฑุถ ููุท)
```

**ุงูุชุฃููุฏ:** ุฌููุน ุงูุนููุงุช ุชูุญุณุจ ูู ูุตุฏุฑ ููุญุฏ ููุชุณู.

---

### 3. ุฃุณุนุงุฑ ุงูุนููุงุช ุงูุฐูุจูุฉ ุงูุชุงุฑูุฎูุฉ ุตุญูุญุฉ ุฑูุงุถูุงู โ

**ุงูุฏููู:**
```javascript
// ุงูุจูุงูุงุช ุงูุฏูููุฉ ูููุทุน ุงูุฐูุจูุฉ:
ottoman: {
    totalWeight: 7.216,
    karat: 22,
    pureGold: 6.61  // 7.216 ร (22/24) = 6.6133 โ 6.61 โ
}

egyptian: {
    totalWeight: 7.988,
    karat: 22,
    pureGold: 7.322  // 7.988 ร (22/24) = 7.3223 โ 7.322 โ
}

british: {
    totalWeight: 7.988,
    karat: 22,
    pureGold: 7.322  // 7.988 ร (22/24) = 7.3223 โ 7.322 โ
}

// ุงูุญุณุงุจ:
pureGold = totalWeight ร (karat / 24)
```

**ุงูุชุฃููุฏ:** ุฌููุน ุฃูุฒุงู ุงูุฐูุจ ุงูุฎุงูุต ุตุญูุญุฉ ุฑูุงุถูุงู.

---

## ๐งช ุญุงูุงุช ุงูุงุฎุชุจุงุฑ

### ุญุงูุฉ ุงูุงุฎุชุจุงุฑ 1: ุญุณุงุจ ุจุงูุฏููุงุฑ ููุท

**ุงููุฏุฎูุงุช:**
- XAUUSD: $2000
- ุณุนุฑ ุงูุตุฑู: 100 ู.ุณ/ุฏููุงุฑ (ุบูุฑ ููู ููุฐู ุงูุญุงูุฉ)

**ุงูุชููุนุงุช:**
```
ุณุนุฑ ุงูุบุฑุงู (USD) = 2000 / 31.1035 = $64.30
ุณุนุฑ ุนูุงุฑ 22 = $64.30 ร (22/24) = $58.94
ุณุนุฑ ุนูุงุฑ 21 = $64.30 ร (21/24) = $56.26

ุณุนุฑ ุงูููุฑุฉ ุงูุนุซูุงููุฉ = $64.30 ร 6.61 = $425.02
ุณุนุฑ ุงูุฌููู ุงููุตุฑู = $64.30 ร 7.322 = $470.80
```

**ุงููุชูุฌุฉ:** โ ุตุญูุญุฉ

---

### ุญุงูุฉ ุงูุงุฎุชุจุงุฑ 2: ุญุณุงุจ ุจุงูููุฑุฉ ุงูุณูุฑูุฉ ุงูุฌุฏูุฏุฉ

**ุงููุฏุฎูุงุช:**
- XAUUSD: $2000
- ุณุนุฑ ุงูุตุฑู: 100 ู.ุณ ุฌุฏูุฏ/ุฏููุงุฑ

**ุงูุชููุนุงุช:**
```
ุณุนุฑ ุงูุบุฑุงู (USD) = 2000 / 31.1035 = $64.30
ุณุนุฑ ุงูุบุฑุงู (SYP) = $64.30 ร 100 = 6430 ู.ุณ ุฌุฏูุฏ

ุณุนุฑ ุนูุงุฑ 22 = 6430 ร (22/24) = 5894.17 ู.ุณ ุฌุฏูุฏ
ุณุนุฑ ุนูุงุฑ 21 = 6430 ร (21/24) = 5626.25 ู.ุณ ุฌุฏูุฏ

ุณุนุฑ ุงูููุฑุฉ ุงูุนุซูุงููุฉ = 6430 ร 6.61 = 42502.3 ู.ุณ ุฌุฏูุฏ
```

**ุงููุชูุฌุฉ:** โ ุตุญูุญุฉ

---

### ุญุงูุฉ ุงูุงุฎุชุจุงุฑ 3: ุฑุณู ูุตูุนูุฉ ุจุงูุฏููุงุฑ ูุน ุฅุฎุฑุงุฌ ุจุงูููุฑุฉ ุงูุณูุฑูุฉ

**ุงููุฏุฎูุงุช:**
- XAUUSD: $2000
- ุณุนุฑ ุงูุตุฑู: 100 ู.ุณ ุฌุฏูุฏ/ุฏููุงุฑ
- ูุฒู ุงููุทุนุฉ: 5 ุบุฑุงู
- ุฑุณู ูุตูุนูุฉ: $10
- ููุน ุงููุนุงููุฉ: ุจูุน

**ุงูุชููุนุงุช:**
```
ุณุนุฑ ุงูุบุฑุงู (USD) = 2000 / 31.1035 = $64.30
ุณุนุฑ ุงูุบุฑุงู (SYP) = $64.30 ร 100 = 6430 ู.ุณ ุฌุฏูุฏ

ูููุฉ ุงูุฐูุจ = 6430 ร 5 = 32150 ู.ุณ ุฌุฏูุฏ
ุฑุณู ุงููุตูุนูุฉ (ูุญููู ุฅูู SYP) = $10 ร 100 = 1000 ู.ุณ ุฌุฏูุฏ

ุณุนุฑ ุงูุจูุน = 32150 + 1000 = 33150 ู.ุณ ุฌุฏูุฏ
```

**ุงููุชูุฌุฉ:** โ ุตุญูุญุฉ

---

## ๐ ุงูุชุญุณููุงุช ุงููุนููู ุนูู ุงูููุฏ

### 1. ุงููุตู ุจูู ุงูุญุณุงุจุงุช ูุงูุนุฑุถ
- ุฏูุงู ุญุณุงุจูุฉ ูููุฉ (Pure Functions)
- ุฏูุงู ููุนุฑุถ ูููุตูุฉ ุนู ุงูููุทู
- ุณูููุฉ ุงุฎุชุจุงุฑ ูุชุฏููู ุงูุญุณุงุจุงุช

### 2. ุฅุถุงูุฉ ุงูุชูุซูู
- ุชุนูููุงุช JSDoc ูุงููุฉ ูุฌููุน ุงูุฏูุงู
- ุดุฑุญ ููููุงุนุฏ ุงูุญุฑุฌุฉ
- ุชูุซูู ููุซูุงุจุช ูุงูุฃุฑูุงู

### 3. ุชุญุณูู ุฃุณูุงุก ุงููุชุบูุฑุงุช
- ุฃุณูุงุก ูุงุถุญุฉ ูุฐุงุช ูุนูู
- ูุง ุงุฎุชุตุงุฑุงุช ุบูุฑ ูุงุถุญุฉ
- ุจููุฉ ุซุงุจุชุฉ ููุชุณููุฉ

### 4. ุฅุถุงูุฉ ุงูุชุญูู ูู ุงููุฏุฎูุงุช
- ุงูุชุญูู ูู ุงูููู ุงููุณููุญุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ููุน `NaN` ู `Infinity`

### 5. ุณูููุฉ ุงูุงุฎุชุจุงุฑ
- ุชุตุฏูุฑ ุฏูุงู ุฑุฆูุณูุฉ ูููุตูู ูู ุงููุชุตูุญ
- `window.GoldCalculator` ููุงุฎุชุจุงุฑ ุงููุฏูู
- ุฏูุงู ูููุฉ ุณููุฉ ููุงุฎุชุจุงุฑ ุงูุขูู

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุงูุญุฑุฌุฉ ุงูููุชุดูุฉ:
- โ USD ููุญุณุจ ูุจุงุดุฑ ูู XAUUSD ููุท
- โ ูุง ุงุฎุชูุงุท ููุนููุงุช ูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ
- โ ุนุฏู ูุฌูุฏ ุชูุฑุงุฑ ูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ
- โ ุงูุชุญูู ุงูุดุงูู ูู ุงููุฏุฎูุงุช
- โ ุงุณุชุฎุฏุงู ุซูุงุจุช ููุซูุฉ ุจุฏูุงู ูู ุฃุฑูุงู ุณุญุฑูุฉ
- โ ุจูุงูุงุช ุฏูููุฉ ูููุทุน ุงูุฐูุจูุฉ ุงูุชุงุฑูุฎูุฉ
- โ ุฌููุน ุงูุนููุงุช ูุชุณูุฉ ุฏุงุฎููุงู
- โ ุฃุณุนุงุฑ ุงููุทุน ุงูุฐูุจูุฉ ุตุญูุญุฉ ุฑูุงุถูุงู

ุงูููุฏ ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุฅูุชุงุฌู ูุน ุถูุงู ุฏูุฉ ุงูุญุณุงุจุงุช ุงููุงููุฉ.